<template>
    <TextEditor :id="`profileWhatsNew`"
                :showAvatar="true" :clazz="`row bg-white-br20 mb-4 p-4 h-auto`"
                @editorPost="onTextPost" @editorFile="onFileChange" @editorImage="onImageChange">
    </TextEditor>
</template>

<script>
import TextEditor from './TextEditor.vue';

export default {
name: 'WhatsNewBlock',
components: {
    TextEditor
},
data() {
    return {}
},
computed: {
    userData() {
        return this.$root.$user;
    },
},
methods: {
    textAreaAutoHeight() {
        let textarea = document.querySelector('#txtWhatsNew');
        textarea.style.height = "";
        textarea.style.height = Math.min(textarea.scrollHeight, 300) + "px";
    },

    onTextPost(evData){
        window.console.log(evData.postText, `WhatsNewBlock::onTextPost`);
        if (evData.postText.trim() !== '') {
            // @TGA: и вот тут вызывать API для отправки поста
        }
    },

    onFileChange(evData){
        window.console.log(evData, `WhatsNewBlock::onFileChange`);
    },

    onImageChange(evData){
        window.console.log(evData, `WhatsNewBlock::onImageChange`);
    },
},
}
</script>

