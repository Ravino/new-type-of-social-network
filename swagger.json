{
  "openapi": "3.0.1",
  "info": {
    "title": "Socnet Plizi",
    "description": "",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://vm1095330.hl.had.pm/api"
    },
    {
      "url": "http://vm1095330.hl.had.pm/api"
    }
  ],
  "tags": [
    {
      "name": "User",
      "description": "Все, что касается пользователей"
    },
    {
      "name": "Friendships",
      "description": "Все, что касается друзей"
    },
    {
      "name": "Communities",
      "description": "Все, что касается сообществ"
    },
    {
      "name": "Posts",
      "description": "Все, что касается публикаций"
    },
    {
      "name": "Chats",
      "description": "Все, что касается диалогов и сообщений"
    }
  ],
  "paths": {
    "/chat/dialogs": {
      "get": {
        "tags": [
          "Chats"
        ],
        "description": "Список моих диалогов",
        "operationId": "getListOfDialogs",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "list": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Dialogs"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/chat/messages/{dialog_id}": {
      "get": {
        "tags": [
          "Chats"
        ],
        "description": "Список сообщений в диалоге",
        "operationId": "getListOfDialogMessages",
        "parameters": [
          {
            "name": "dialog_id",
            "in": "path",
            "description": "ID диалога",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "list": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Messages"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/chat/send": {
      "post": {
        "tags": [
          "Chats"
        ],
        "description": "Отправить сообщение",
        "operationId": "sendMessage",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessage"
              }
            }
          },
          "required": false
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/PostByUser"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/chat/message/user": {
      "post": {
        "tags": [
          "Chats"
        ],
        "description": "Отправить сообщение пользователю",
        "operationId": "sendMessageToUser",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMessageToUser"
              }
            }
          },
          "required": false
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/PostByUser"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/chat/open": {
      "post": {
        "tags": [
          "Chats"
        ],
        "description": "Отдаст или создаст новый диалог с пользователем",
        "operationId": "OpenOrCreateDialog",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "number"
                  }
                }
              }
            }
          },
          "required": false
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Dialogs"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/chat/message/attachments": {
      "post": {
        "tags": [
          "Chats"
        ],
        "description": "Загрузить файлы",
        "operationId": "uploadMessageAttachments",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "files"
                ],
                "properties": {
                  "files": {
                    "type": "string",
                    "description": "file to upload",
                    "format": "binary"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "attachmentIds": {
                      "type": "array",
                      "items": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/posts": {
      "post": {
        "tags": [
          "Posts"
        ],
        "description": "Создать пост",
        "operationId": "createPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "nullable": true
                  },
                  "body": {
                    "type": "string"
                  },
                  "attachmentIds": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/PostByUser"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/posts/{id}": {
      "get": {
        "tags": [
          "Posts"
        ],
        "description": "Посты на моей стене",
        "operationId": "postsById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID Поста",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/PostWithAll"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/communities/{id}/posts": {
      "post": {
        "tags": [
          "Posts"
        ],
        "description": "Создать пост в группе",
        "operationId": "createPostFromCommunity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID сообщества",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "body": {
                    "type": "string"
                  },
                  "attachmentIds": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostByCommunity"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/user/posts": {
      "get": {
        "tags": [
          "Posts"
        ],
        "description": "Посты в ленте новостей",
        "operationId": "postsFromMyWall",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/PostWithAll"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/posts/share/wall": {
      "post": {
        "tags": [
          "Posts"
        ],
        "description": "Поделиться постом на своей странице",
        "operationId": "shareToMyWall",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "number"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/PostWithParent"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/posts/attachments": {
      "post": {
        "tags": [
          "Chats"
        ],
        "description": "Загрузить файлы",
        "operationId": "uploadPostAttachments",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "files"
                ],
                "properties": {
                  "files": {
                    "type": "string",
                    "description": "file to upload",
                    "format": "binary"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "attachmentIds": {
                      "type": "array",
                      "items": {
                        "type": "number"
                      }
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/register": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Отправить запрос на регистрацию",
        "operationId": "register",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "birthday": {
                    "type": "string",
                    "default": null
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Успешно зарегистрирован",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "402": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "x-codegen-request-body-name": "body"
      }
    },
    "/login": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Отправить запрос на регистрацию",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Успешно авторизован",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string"
                    },
                    "chanel": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "x-codegen-request-body-name": "body"
      }
    },
    "/user": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Получить данные пользователя",
        "operationId": "getUser",
        "responses": {
          "200": {
            "description": "Успешно получен",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      },
      "patch": {
        "tags": [
          "User"
        ],
        "requestBody": {
          "content": {
            "*/*": {
              "schema": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string",
                    "example": "new name"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/user/{id}": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Получить данные пользователя",
        "operationId": "getUserById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID пользователя",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешно получен",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/search": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Получить данные пользователя",
        "operationId": "searchUser",
        "parameters": [
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/User"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/user/profile/image": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "Загрузить изображение для пользователя",
        "operationId": "uploadImage",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file",
                  "tag"
                ],
                "properties": {
                  "tag": {
                    "type": "string",
                    "description": "Additional data to pass to server"
                  },
                  "file": {
                    "type": "string",
                    "description": "file to upload",
                    "format": "binary"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Успешно получен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "path": {
                      "type": "string",
                      "example": "https://plizi.s3.eu-north-1.amazonaws.com/images/originals/WEP0464rMZ9J3j0QWmTTbX5oVyC46kJI6PZMtI56.png"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/notifications": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Получить уведомления пользователя",
        "operationId": "getUserNotifications",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "number",
              "default": 10
            }
          },
          {
            "name": "offset",
            "in": "query",
            "schema": {
              "type": "number",
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/NotificationRes"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/notifications/mark/read": {
      "patch": {
        "tags": [
          "User"
        ],
        "description": "Пометить уведомления как прочитанные",
        "operationId": "markNotificationsAsRead",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ids": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/NotificationRes"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/communities": {
      "get": {
        "tags": [
          "Communities"
        ],
        "description": "Список сообществ",
        "operationId": "getCommunities",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Community"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      },
      "post": {
        "tags": [
          "Communities"
        ],
        "description": "Создать сообщество",
        "operationId": "createCommunity",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityInput"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Community"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/communities/{id}": {
      "get": {
        "tags": [
          "Communities"
        ],
        "description": "Список сообществ в которых я учавствую",
        "operationId": "getCommunityById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID сообщества",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Community"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Communities"
        ],
        "description": "Обновить сообщество",
        "operationId": "updateCommunity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID сообщества",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityInput"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/Community"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "example": "Here will be error of the field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/communities/{id}/subscribe": {
      "get": {
        "tags": [
          "Communities"
        ],
        "description": "Подписаться на сообщество",
        "operationId": "subscribeOnCommunity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID сообщества",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "id": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/communities/{id}/unsubscribe": {
      "get": {
        "tags": [
          "Communities"
        ],
        "description": "Отписаться от сообщества",
        "operationId": "unsubscribeFromCommunity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID сообщества",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    },
                    "id": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/communities": {
      "get": {
        "tags": [
          "Communities"
        ],
        "description": "Список сообществ в которых я учавствую",
        "operationId": "getUserCommunities",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID сообщества",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "$ref": "#/components/schemas/UserWithCommunities"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/friendship": {
      "get": {
        "tags": [
          "Friendships"
        ],
        "description": "Список моих друзей",
        "operationId": "myFriendsList",
        "responses": {
          "200": {
            "description": "Успешно добавлен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/User"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      },
      "post": {
        "tags": [
          "Friendships"
        ],
        "description": "Отправить запрос на добавление в друзья",
        "operationId": "addToFriend",
        "requestBody": {
          "description": "ID пользователя которго требуется добавить в друзья",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "integer",
                    "format": "int64"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Успешно добавлен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "default": "Запрос на добавление в друзья отправлен"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Вы уже отправляли запрос данному пользователю / Вы уже отправляли запрос данному пользователю",
            "content": {}
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/user/{id}/friendship": {
      "get": {
        "tags": [
          "Friendships"
        ],
        "description": "Список друзей пользователя",
        "operationId": "userFriendsList",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID пользователя чей листинг необходимо показать",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Успешно добавлен",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/User"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Not allowed",
            "content": {}
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/friendship/pending": {
      "get": {
        "tags": [
          "Friendships"
        ],
        "description": "Список пользователей запросившых подтверждение на добавление в друзья",
        "operationId": "pendingFriendsRequests",
        "responses": {
          "200": {
            "description": "ОК",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "list": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/User"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Not allowed",
            "content": {}
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ]
      }
    },
    "/user/friendship/accept": {
      "post": {
        "tags": [
          "Friendships"
        ],
        "description": "Принять запрос на добавление в друзья",
        "operationId": "acceptFriend",
        "requestBody": {
          "description": "ID пользователя от которого требуется принять заявку",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "integer",
                    "format": "int64"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Вы приняли пользователя в друзья",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "default": "Вы приняли пользователя в друзья"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Данный пользователь не отправлял вам запрос в друзья",
            "content": {}
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    },
    "/user/friendship/decline": {
      "post": {
        "tags": [
          "Friendships"
        ],
        "description": "Принять запрос на добавление в друзья",
        "operationId": "declineFriend",
        "requestBody": {
          "description": "ID пользователя от которого требуется отклонить заявку",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "userId": {
                    "type": "integer",
                    "format": "int64"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Вы отклонили запрос на добавление в друзья от пользователя",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "default": "Вы отклонили запрос на добавление в друзья от пользователя"
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Данный пользователь не отправлял вам запрос в друзья",
            "content": {}
          }
        },
        "security": [
          {
            "Authorization": []
          }
        ],
        "x-codegen-request-body-name": "body"
      }
    }
  },
  "components": {
    "schemas": {
      "CreateMessage": {
        "type": "object",
        "properties": {
          "chatId": {
            "type": "number"
          },
          "body": {
            "type": "string"
          },
          "replyOnMessageId": {
            "type": "number"
          },
          "forwardFromChatId": {
            "type": "number"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "number"
            }
          }
        }
      },
      "CreateMessageToUser": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "number"
          },
          "body": {
            "type": "string"
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "number"
            }
          }
        }
      },
      "Messages": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "userPic": {
            "type": "string"
          },
          "sex": {
            "type": "string"
          },
          "body": {
            "type": "string"
          },
          "isMine": {
            "type": "boolean"
          },
          "isRead": {
            "type": "boolean"
          },
          "isEdited": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "number"
          },
          "updatedAt": {
            "type": "number"
          },
          "attachments": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MessageAttachments"
                }
              }
            }
          },
          "replyOn": {
            "$ref": "#/components/schemas/MessagesWithoutRef"
          },
          "isForward": {
            "type": "boolean"
          }
        }
      },
      "MessagesWithoutRef": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "userPic": {
            "type": "string"
          },
          "sex": {
            "type": "string"
          },
          "body": {
            "type": "string"
          },
          "isMine": {
            "type": "boolean"
          },
          "isRead": {
            "type": "boolean"
          },
          "isEdited": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "number"
          },
          "updatedAt": {
            "type": "number"
          },
          "attachments": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/MessageAttachments"
                }
              }
            }
          },
          "replyOn": {
            "$ref": "#/components/schemas/Messages"
          },
          "isForward": {
            "type": "boolean"
          }
        }
      },
      "MessageAttachments": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "originalName": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        }
      },
      "Dialogs": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "lastMessageText": {
            "type": "string"
          },
          "lastMessageDT": {
            "type": "string"
          },
          "isRead": {
            "type": "boolean"
          },
          "isLastFromMe": {
            "type": "boolean"
          },
          "attendees": {
            "$ref": "#/components/schemas/Attendees"
          }
        }
      },
      "Attendees": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "lastActivity": {
            "type": "string"
          },
          "userPic": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "isOnline": {
            "type": "boolean"
          },
          "sex": {
            "type": "string"
          }
        }
      },
      "NotificationRes": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "data": {
            "type": "object",
            "properties": {
              "sender": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "id": {
                    "type": "number"
                  },
                  "postId": {
                    "type": "number"
                  }
                }
              },
              "body": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "example": "user.post.created"
              }
            }
          },
          "readAt": {
            "type": "string"
          },
          "createdAt": {
            "type": "string"
          }
        }
      },
      "PostByUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "body": {
            "type": "string"
          },
          "primaryImage": {
            "type": "string"
          },
          "likes": {
            "type": "number"
          },
          "views": {
            "type": "number"
          },
          "sharesCount": {
            "type": "number"
          },
          "commentsCount": {
            "type": "number"
          },
          "createdAt": {
            "type": "number"
          },
          "attachments": {
            "$ref": "#/components/schemas/PostAttachments"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          }
        }
      },
      "PostByCommunity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "body": {
            "type": "string"
          },
          "primaryImage": {
            "type": "string"
          },
          "likes": {
            "type": "number"
          },
          "views": {
            "type": "number"
          },
          "sharesCount": {
            "type": "number"
          },
          "commentsCount": {
            "type": "number"
          },
          "createdAt": {
            "type": "number"
          },
          "attachments": {
            "$ref": "#/components/schemas/PostAttachments"
          },
          "community": {
            "$ref": "#/components/schemas/Community"
          }
        }
      },
      "PostWithAll": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "body": {
            "type": "string"
          },
          "primaryImage": {
            "type": "string"
          },
          "likes": {
            "type": "number"
          },
          "views": {
            "type": "number"
          },
          "sharesCount": {
            "type": "number"
          },
          "commentsCount": {
            "type": "number"
          },
          "createdAt": {
            "type": "number"
          },
          "attachments": {
            "$ref": "#/components/schemas/PostAttachments"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "community": {
            "$ref": "#/components/schemas/Community"
          }
        }
      },
      "PostWithParent": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number"
          },
          "name": {
            "type": "string"
          },
          "body": {
            "type": "string"
          },
          "primaryImage": {
            "type": "string"
          },
          "likes": {
            "type": "number"
          },
          "views": {
            "type": "number"
          },
          "sharesCount": {
            "type": "number"
          },
          "commentsCount": {
            "type": "number"
          },
          "createdAt": {
            "type": "number"
          },
          "attachments": {
            "$ref": "#/components/schemas/PostAttachments"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "sharedFrom": {
            "$ref": "#/components/schemas/PostByCommunity"
          }
        }
      },
      "PostAttachments": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "originalName": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "mimeType": {
            "type": "string"
          },
          "size": {
            "type": "number"
          }
        }
      },
      "CommunityInput": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "notice": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "website": {
            "type": "string"
          },
          "location": {
            "type": "string"
          }
        }
      },
      "Community": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "notice": {
            "type": "string"
          },
          "primaryImage": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "website": {
            "type": "string"
          },
          "location": {
            "type": "string"
          }
        }
      },
      "UserWithCommunities": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "email": {
            "type": "string"
          },
          "isOnline": {
            "type": "boolean"
          },
          "mutualFriendsCount": {
            "type": "number"
          },
          "communities": {
            "type": "object",
            "properties": {
              "list": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Community"
                }
              }
            }
          },
          "profile": {
            "type": "object",
            "properties": {
              "firstName": {
                "type": "string"
              },
              "lastName": {
                "type": "string"
              },
              "sex": {
                "type": "string"
              },
              "birthday": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "relationshipId": {
                "type": "number"
              },
              "userPic": {
                "type": "string"
              }
            }
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "email": {
            "type": "string"
          },
          "isOnline": {
            "type": "boolean"
          },
          "mutualFriendsCount": {
            "type": "number"
          },
          "profile": {
            "type": "object",
            "properties": {
              "firstName": {
                "type": "string"
              },
              "lastName": {
                "type": "string"
              },
              "sex": {
                "type": "string"
              },
              "birthday": {
                "type": "string"
              },
              "city": {
                "type": "string"
              },
              "relationshipId": {
                "type": "number"
              },
              "userPic": {
                "type": "string"
              }
            }
          }
        },
        "xml": {
          "name": "User"
        }
      }
    },
    "securitySchemes": {
      "Authorization": {
        "type": "apiKey",
        "name": "Authorization",
        "in": "header"
      }
    }
  }
}